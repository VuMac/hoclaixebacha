<div class="nav">
  <a routerLink="/intro" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
    Gi·ªõi thi·ªáu
  </a>

  <a routerLink="/dashboard" routerLinkActive="active">
    Kho√° H·ªçc
  </a>
</div>

<div class="container">


  <!-- PRACTICE CARD -->
  <div class="practice-card">
    <div class="pc-left">
      <div class="pc-title">Ch·ªçn h·∫°ng l√°i xe ƒë·ªÉ luy·ªán t·∫≠p</div>
      <div class="pc-sub">Ch·ªçn ƒë√∫ng h·∫°ng c·ªßa b·∫°n ƒë·ªÉ l√†m b·ªô c√¢u h·ªèi ph√π h·ª£p.</div>

      <div class="pc-control">
        <span class="pc-icon">üöó</span>

        <div class="pc-select-wrap">
          <select class="pc-select" [(ngModel)]="selectedLicense" (ngModelChange)="onLicenseChange()">
            <option *ngFor="let l of licenses" [value]="l.code">
              {{ l.name }}
            </option>
          </select>

          <span class="pc-caret">‚ñæ</span>
        </div>
      </div>
    </div>

    <button class="pc-btn" (click)="startPractice()">
      <span class="pc-btn-icon">‚ñ∂</span>
      B·∫Øt ƒë·∫ßu luy·ªán
    </button>
  </div>

  <h2 class="section-title">ƒê·ªÅ luy·ªán t·∫≠p</h2>

  <!-- GRID ƒê·ªÄ -->
  <div class="set-grid">
    <div class="set-card" *ngFor="let s of practiceSets" (click)="openSet(s.id)">
      <div class="set-tag">{{ s.tag }}</div>

      <div class="set-title">{{ s.title }}</div>

      <div class="set-bottom">
        <div class="set-meta">
          <span class="chip">{{ s.questions }} c√¢u</span>
          <span class="chip">{{ s.minutes }} ph√∫t</span>
        </div>

        <!-- n√∫t nh·ªè trong card: stopPropagation ƒë·ªÉ kh√¥ng b·ªã click card 2 l·∫ßn -->
        <button class="set-btn" type="button" (click)="openSet(s.id); $event.stopPropagation()">
          ƒê·ªÅ #{{ s.id }}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ===== MODAL POPUP (ƒë·∫∑t ngo√†i container ƒë·ªÉ ph·ªß full m√†n) ===== -->
<div class="modal-overlay" *ngIf="isModalOpen" (click)="closeModal()">
  <div class="modal" (click)="$event.stopPropagation()">
    <div class="modal-title">
      {{ (selectedSet?.tag || '').toUpperCase() }} - ƒê·ªÄ {{ selectedSet?.id }}
    </div>

    <div class="modal-sub">
      <span><b>S·ªë c√¢u:</b> {{ selectedSet?.questions }} c√¢u</span>
      <span><b>Th·ªùi gian l√†m b√†i:</b> {{ selectedSet?.minutes }} ph√∫t</span>
    </div>

    <div class="modal-scope">
      <div class="scope-title">Ph·∫°m vi ki·ªÉm tra:</div>
      <div class="scope-desc">T·ªïng h·ª£p c√¢u h·ªèi theo h·∫°ng {{ selectedLicense }}</div>
    </div>

    <button class="modal-btn" (click)="startExam()">
      B·∫ÆT ƒê·∫¶U L√ÄM B√ÄI
    </button>
  </div>
</div>